{% extends 'hrms_app/base.html' %}
{% block title %} Gestione Dipendenti {% endblock title %}
{% block content %}

<style>
    /* Impostiamo un'altezza massima per la card e abilitiamo lo scroll */
    .card-body {
        max-height: 450px; /* Imposta l'altezza massima desiderata per la card */
        overflow-y: auto;  /* Abilita lo scroll verticale */
    }
    /* Garantiamo che il footer stia sempre in fondo */
    footer {
        margin-top: 5px; /* Separazione dal contenuto */
    }
</style>

    <title>Lista Dipendenti</title>

    <!-- Card con lista persone -->
    <div class="container mt-5">
        <div class="card">
            <div class="card-header text-center">
                <h3>Lista dipendenti</h3>
            </div>
                    <!-- Barra di ricerca e pulsante "Crea Dipendente" -->
                    <div class="d-flex justify-content-between mb-4">
                        <!-- Form di ricerca con larghezza dimezzata -->
                        <div class="me-2 col-md-6">
                            <label for="searchPerson" class="form-label">Cerca Dipendente</label>
                            <input type="text" class="form-control" id="searchPerson" placeholder="Cerca per nome...">
                        </div>
                        <!-- Pulsante "Crea Dipendente" -->
                        <a href="/crea-dipendente" class="btn btn-primary align-self-end">Crea Dipendente</a>
                    </div>

                <!-- Lista delle persone in due colonne -->
                <div class="row mt-4">
                    <!-- Colonna 1 -->
                    <div class="col-md-6">
                        <ul class="list-group" id="personList1">
                            <li class="list-group-item"><a href="/dipendente/1">Mario Rossi</a></li>
                            <li class="list-group-item"><a href="/dipendente/2">Anna Bianchi</a></li>
                            <li class="list-group-item"><a href="/dipendente/3">Giuseppe Verdi</a></li>
                            <li class="list-group-item"><a href="/dipendente/4">Laura Neri</a></li>
                            <li class="list-group-item"><a href="/dipendente/5">Paolo Gialli</a></li>
                            <li class="list-group-item"><a href="/dipendente/6">Luca Neri</a></li>
                            <li class="list-group-item"><a href="/dipendente/7">Elena Rossi</a></li>
                            <li class="list-group-item"><a href="/dipendente/8">Alessandro Gialli</a></li>
                            <li class="list-group-item"><a href="/dipendente/9">Francesca Bianchi</a></li>
                            <li class="list-group-item"><a href="/dipendente/10">Marco Gialli</a></li>
                        </ul>
                    </div>

                    <!-- Colonna 2 -->
                    <div class="col-md-6">
                        <ul class="list-group" id="personList2">
                            <li class="list-group-item"><a href="/dipendente/11">Giulia Verdi</a></li>
                            <li class="list-group-item"><a href="/dipendente/12">Michele Rossi</a></li>
                            <li class="list-group-item"><a href="/dipendente/13">Simona Neri</a></li>
                            <li class="list-group-item"><a href="/dipendente/14">Fabio Gialli</a></li>
                            <li class="list-group-item"><a href="/dipendente/15">Loredana Bianchi</a></li>
                            <li class="list-group-item"><a href="/dipendente/16">Alessio Verdi</a></li>
                            <li class="list-group-item"><a href="/dipendente/17">Antonio Rossi</a></li>
                            <li class="list-group-item"><a href="/dipendente/18">Riccardo Neri</a></li>
                            <li class="list-group-item"><a href="/dipendente/19">Sofia Bianchi</a></li>
                            <li class="list-group-item"><a href="/dipendente/20">Davide Verdi</a></li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>

    <script>
        // Funzione per filtrare la lista di persone in base al nome
        document.getElementById("searchPerson").addEventListener("input", function() {
            var filter = this.value.toLowerCase();
            var listItems1 = document.getElementById("personList1").getElementsByTagName("li");
            var listItems2 = document.getElementById("personList2").getElementsByTagName("li");

            // Filtra la lista nella prima colonna
            Array.from(listItems1).forEach(function(item) {
                var text = item.textContent || item.innerText;
                item.style.display = text.toLowerCase().includes(filter) ? "" : "none";
            });

            // Filtra la lista nella seconda colonna
            Array.from(listItems2).forEach(function(item) {
                var text = item.textContent || item.innerText;
                item.style.display = text.toLowerCase().includes(filter) ? "" : "none";
            });
        });
    </script>

{% endblock %} 
